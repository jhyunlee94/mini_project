<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>입찰하기</title>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/style-bid.css">
    <script src="js/bootstrap.bundle.min.js"></script>
    <script src="js/jquery-3.6.0.min.js"></script>
</head>
<body>
    <p id="bid-price">10,000원</p>
    <p id="price">118,000원</p>
    <button class="btn btn-primary" type="button"
    data-bs-toggle="modal" data-bs-target="#intro">
    입찰하기
    </button>

    <!--모달 영역-->
    <div class="modal fade" id="intro">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">
                        입찰하기
                    </h4>
                </div>
                <div class="modal-body">
                    <div class="table-responsive">
                        <table class="table table-striped align-middle text-center">
                            <tr>
                                <th>판매자</th>
                                <th>남은기간</th>
                            </tr>
                            <tr>
                                <th>남은기간</th>
                                <td>2022년 06월 15일 ~ 2022년 06월 24일</td>
                            </tr>
                            <tr>
                                <th>배송방법</th>
                                <td>
                                    <div class="form-check form-check-inline">
                                        <input class="form-check-input" type="radio" name="flexRadioDefault1" id="flexRadioDefault1">
                                        <label class="form-check-label" for="flexRadioDefault1">
                                        택배
                                        </label>
                                    </div>
                                    <div class="form-check form-check-inline">
                                        <input class="form-check-input" type="radio" name="flexRadioDefault1" id="flexRadioDefault2">
                                        <label class="form-check-label" for="flexRadioDefault2">
                                        직거래
                                        </label>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <th>입찰방법</th>
                                <td>                                    
                                    <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="flexRadioDefault2" id="flexRadioDefault3">
                                    <label class="form-check-label" for="flexRadioDefault3">
                                    즉시구매
                                    </label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="flexRadioDefault2" id="flexRadioDefault4">
                                    <label class="form-check-label" for="flexRadioDefault4">
                                    입찰
                                    </label>
                                </div></td>
                            </tr>
                            <tr>
                                <th>입찰단위</th>
                                <td id="bid-price-won"></td>
                            </tr>
                            <tr>
                                <th>현재가</th>
                                <td id="price-won"></td>
                            </tr>
                            <tr>
                                <th>입찰금액</th>
                                <td>
                                    <input id="test" type="text" placeholder="10,000">
                                </td>
                            </tr>
                            <tr>
                                <th>총 구매금액</th>
                                <td>
                                    <p id="total"></p>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-bs-dismiss="modal">
                        입찰하기
                    </button>
                    <button type="button" class="btn btn-primary" data-bs-dismiss="modal">
                        닫기
                    </button>
                </div>
            </div>
        </div>
    </div>
    <script>
        /*input일때는 value로 받아오고 <p id="key"></p>, td는 텍스트
        */
        $(function(){
            $("#bid-price-won").text($("#bid-price").text());
            $("#price-won").text($("#price").text());

            var strPrice = $("#price-won").text().replace(',', '');


            console.log(strPrice);
            
            var $price = parseInt(strPrice);
            console.log($price);
            var $total = 0;

            total();
            function total(){
                $total = $price + ($price*0.1);
                console.log($total);
                $("#total").text(String($total).replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g, ",") + '원'+' (구매 수수료 포함)');
            }
        });
    </script>
</body>
</html>